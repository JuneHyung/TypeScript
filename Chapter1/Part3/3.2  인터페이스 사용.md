# π³ 3.2  μΈν„°νμ΄μ¤ μ‚¬μ©

μƒμ„±μλ¥Ό ν¬ν•¨μ‹ν‚¨ μ»¤μ¤ν…€ νƒ€μ…μ΄ ν•„μ”ν• κ²½μ° μΌλ°ν΄λμ¤λ¥Ό μ‚¬μ© / κ·Έλ ‡μ§€ μ•μΌλ©΄ μΈν„°νμ΄μ¤ μ‚¬μ©ν•¨



## π  3.2.1 μΈν„°νμ΄μ¤ κ°•μ 

μ†μ„± λΏλ§ μ•„λ‹λΌ λ©”μ„λ“μ„ μ–Έλ„ ν¬ν•¨ν•  μ μλ‹¤. ( β— λ©”μ„λ“ κµ¬ν„μ€ μ•„λ‹. )

**implementsν‚¤μ›λ“μ™€ μΈν„°νμ΄μ¤ μ΄λ¦„**μ„ μ‚¬μ©ν•  μ μμ.

=> λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§μ„ ν¬ν•¨ν•μ§€λ§, ν΄λμ¤λ” λ©”μ„λ“ κµ¬ν„μ΄ ν¬ν•¨λ  μ μλ‹¤.



### π‘‰ Example

```typescript
// 3_13.ts
interface MotorVeghicle3_13{
  startEngine(): boolean;
  stopEngine(): boolean;
  brake(): boolean;
  accelate(speed: number);
  hank(HowLong: number): void;
}
```

λ©”μ„λ“ κµ¬ν„μ€ μ—†μ.

μ„ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤ Carλ¥Ό λ§λ“¤μ–΄λ³΄μ.

```typescript
class Car3_13 implements MotorVehicle3_13{

}
```

μ΄ κ²½μ° ν΄λμ¤ μ„ μ–Έμ€ μ»΄νμΌλμ§€ μ•μ•„ μ¤λ¥κ°€ λ°μƒ.

**μΈν„°νμ΄μ¤λ΅ ν΄λμ¤λ¥Ό μ„ μ–Έν•  λ•, μΈν„°νμ΄μ¤ λ‚΄ κ° λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Όν•¨.**

```typescript
// 3_14.ts
interface MotorVehicle3_14{
  startEngine(): boolean;
  stopEngine(): boolean;
  brake(): boolean;
  accelate(speed: number);
  hank(HowLong: number): void;
}

class Car3_14 implements MotorVehicle3_14{
  startEngine(): boolean{
    return true;
  }
  stopEngine(): boolean{
    return true;
  }
  brake(): boolean{
    return true;
  }
  accelate(speed: number){
    console.log(`Driving faster`);
  }
  hank(HowLong: number): void {
    console.log(`Beep beep yeah!`);
  }
}

const car = new Car3_14();
car.startEngine();
```

carμ νƒ€μ…μ„ λ…μ‹μ μΌλ΅ μ„ μ–Έν•μ§€ μ•μ•μµλ‹λ‹¤. 

```typescript
const car: Car3_14 = new Car3_14();
```

μ΄ μ²λΌ λ…μ‹μ μΌλ΅ μ„ μ–Έ κ°€λ¥.

```typescript
const car:MotorVehicle3_14 = new Car3_14();
```

Carν΄λμ¤λ” μ»¤μ¤ν…€ νƒ€μ…μ„ κµ¬ν„ν•λ―€λ΅ μƒμ carμ— Motor Vehicleνƒ€μ… μ„ μ–Έ κ°€λ¥



### π‘‰ μ°¨μ΄μ 

μ„ λ‘κ°€μ§€μ μ°¨μ΄μ μ„ μ•μ•„λ³΄μ.

λ§μ•½ Carκ°€ 8κ°μ λ©”μ†λ“λ¥Ό κµ¬ν„ν•΄μ•Όν•λ‹¤κ³  ν•λ©΄, **Carνƒ€μ…μ΄λ©΄, κ°μ²΄ μΈμ¤ν„΄μ¤λ‚΄ 8κ°λ¥Ό λ¨λ‘ νΈμ¶** κ°€λ¥.<br/>**MotorVehicleνƒ€μ…μ΄λ©΄ μΈμ¤ν„΄μ¤μ— μ„ μ–Έλ λ©”μ„λ“λ§ νΈμ¶** κ°€λ¥

μ΄λ¥Ό μΈν„°νμ΄μ¤λ” νΉμ • κ·μ•½μ„ κ°•μ ν•λ‹¤κ³  λ§ν•  μ μλ‹¤.

---

```typescript
// 3_15.ts
interface Flyable3_15{
    fly(howHigh: number);
    land();
}

interface Swimmable3_15{
    swim(howFar: number);
}
```



μ•μ 3κ°€μ§€λ¥Ό ν•©μ³λ³΄μ.

```typescript
// 3_16.ts
class Car3_16 implements MotorVehicle3_16, Flyable3_16, Swimmable3_16{
	// 3κ°μ μΈν„°νμ΄μ¤ λ‚΄ λ¨λ“  λ©”μ„λ“λ¥Ό κµ¬ν„
}
```

Carμ „μ²΄μ— Flyableκ³Ό Swimmableμ„ κ°€λ¥ν•λ„λ΅ ν•λ”κ±΄ μΆ‹μ€ λ°©λ²•μ΄ μ•„λ‹.

μƒμ†κ°λ…μ„ μ μ©ν•΄ Carν΄λμ¤λ¥Ό ν™•μ¥ν•κ³ , κΈ°λ¥μ„ μ¶”κ°€ν•΄λ³΄μ.

```typescript
class SecretServiceCar3_17 extends Car3_17 implements Flyable3_17, Swimmable3_17{
  // flyableκ³Ό swimmable λ‚΄ λ¨λ“  λ©”μ„λ“λ¥Ό κµ¬ν„
}
```

Carν΄λμ¤κ°€ MotorVehicle μΈν„°νμ΄μ¤μ— μ •μλ κΈ°λ¥μ„ κ°€μ§.



## π 3.2.2 μΈν„°νμ΄μ¤ ν™•μ¥

MotorVehicleμΈν„°νμ΄μ¤ λ‚΄μ κ° λ©”μ„λ“λ¥Ό λ‹¤λ¥΄κ² κµ¬ν„ν•  μλ„ μμµλ‹λ‹¤.

```typescript
// 3_18.ts
class SecretServiceCar3_18 implements MotorVehicle3_18, Flyable3_18, Swimmable3_18{
  // 3κ°€μ§€ μΈν„°νμ΄μ¤ λ‚΄ λ¨λ“  λ©”μ„λ“λ¥Ό κµ¬ν„
}
```



**μΈν„°νμ΄μ¤ ν™•μ¥**

```typescript
// 3_19.ts
interface MotorVehicle3_19{
  startEngine(): boolean;
  stopEngine(): boolean;
  brake(): boolean;
  accelate(speed: number);
  hank(HowLong: number): void;
}

interface Flyable3_19 extends MotorVehicle3_19{
    // ν΄λμ¤λ¥Ό κµ¬ν„ν•λ” λ©”μ„λ“ μ‹κ·Έλ‹μ²
  fly(howHigh: number);
  land();
}
```



μ΄ ν›„ ν΄λμ¤ μ„ μ–Έμ— implements Flyable κµ¬λ¬Έμ΄ ν¬ν•¨λ μμΌλ©΄ MotorVehicle μΈν„°νμ΄μ¤μ— μ„ μ–Έλ 5κ° λ©”μ„λ“μ™€ Flyableμ λ‘ λ©”μ„λ“λ¥Ό ν•©μΉ μ΄ 7κ°μ λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Όν•¨.



```typescript
// 3_20.ts
class SecretServiceCar3_20 implements Flyable3_20, Swimmable3_20{
  startEngine(): boolean{
    return true;
  }
  stopEngine(): boolean{
    return true;
  }
  brake(): boolean{
    return true;
  }
  accelate(speed: number){
    console.log(`Driving faster`);
  }
  hank(howLong: number): void{
    console.log(`Beep Beep!!`)
  }
  fly(howHigh: number){
    console.log(`Flying ${howHigh} feet high`);
  }
  land(){
    console.log(`Landing. Fasten your belts`);
  }
  swim(howFar: number){
    console.log(`Swimming ${howFar} feet`);
  }
}
```

λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό ν¬ν•¨ν• μΈν„°νμ΄μ¤ μ„ μ–Έμ€ μ½”λ“ κ°€λ…μ„±μ„ λ†’μ—¬μ¤.

**μΈν„°νμ΄μ¤λ” κ° κΈ°λ¥μ΄ μ μ •μλ μ§‘ν•©**μΌλ΅ μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ **κµ¬μ²΄μ μΈ ν΄λμ¤λ¥Ό κµ¬ν„**ν•  μ μλ‹¤.



## π 3.2.3 μΈν„°νμ΄μ¤ ν”„λ΅κ·Έλλ°

λ¨Όμ € μΈν„°νμ΄μ¤ ν”„λ΅κ·Έλλ°μ„ μ‚¬μ©ν•  μ μ—†λ” κ²½μ°λ¥Ό λ³΄μ.

ν•κ°€μ§€ λλ” λ¨λ“  μ ν’ μ •λ³΄λ¥Ό μ½λ” μ½”λ“λ¥Ό μ‘μ„±ν•΄μ•Ό ν•λ‹¤κ³  ν•  λ•, λ¨Όμ € ν΄λμ¤λ¥Ό λ§λ“¤κ³  κ° κΈ°λ¥μ„ λ°”λ΅ κµ¬ν„ν•λ” λ° μ§‘μ¤‘ν•  κ²ƒμ…λ‹λ‹¤.

### π‘‰ Example

```typescript
class Product{
  id: number;
  description: string;
}

class ProductService{
  getProducts(): Product[]{
    // λ¨λ“  products μ •λ³΄λ¥Ό κ°€μ Έμ΄.
    return [];
  }

  getProductById(id: number): Product{
    // idλ¥Ό μ΅°νν•΄ productμ μ •λ³΄λ¥Ό κ°€μ Έμ΄.
    return {id: 123, description: 'Good product'};
  }
}
```

κ·Έλ¬κ³  λ‚μ„ μ•„λμ™€ κ°™μ΄ ProductService μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤κ³  λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

```typescript
const productService = new ProductService();
const products = productService.getProducts();
```



μ„λ²„κ°€μ—†μΌλ‹ λ™μΌν• APIλ¥Ό μ‚¬μ©ν•λ” MockProductServiceν΄λμ¤λ¥Ό μƒμ„±ν•κ³  μ ν’λ°μ΄ν„°λ¥Ό λ°ν™ν•  μ μκ² λ§λ“¤μ–΄ λ³΄μ.

```typescript
// 3_22.ts
class MockProductService3_22{
	getProducts(): Product3_22[]{
    // ν•λ“ μ½”λ”©λ μ ν’ μ •λ³΄λ¥Ό λ°›λ” μ½”λ“ μ‘μ„±.
    return [];
  }
  getProductById(id: number): Product3_22{
    return {id: 456, description: 'Not a real product'};
  }
}
```

MockProductServiceν΄λμ¤λ” ProductService ν΄λμ¤μ™€ λ™μΌν• λ‘ λ©”μ„λ“λ¥Ό μ„ μ–Έν–μ§€λ§, λ°λ€μ κ²½μ° μ¤λ¥κ°€ λ°μƒν•  μ μλ‹¤.

=> μ΄λ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄ MockProductService ν΄λμ¤μ— μΈν„°νμ΄μ¤λ¥Ό κ°•μ ν•  μ μμµλ‹λ‹¤.

implementsν‚¤μ›λ“λ΅ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ¥Ό λ§λ“¤ μ μκΈ° λ•λ¬Έμ— μ•„λμ™€ κ°™μ΄ MockProductServiceν΄λμ¤λ¥Ό μμ •ν•λ” κ²ƒμ΄ λ°”λμ§ν•¨.

```typescript
class MockProductService3_22 implements ProductService{
    // κµ¬ν„
}
```



νƒ€μ…μ¤ν¬λ¦½νΈλ” implements ν‚¤μ›λ“λ’¤μ— ν΄λμ¤μ΄λ¦„μ„ μ…λ ¥ν•λ©΄ ProductServiceμ **λ¨λ“  λ©”μ„λ“λ¥Ό κ°•μ λ΅ κµ¬ν„ν•λ„λ΅ λ§λ“­λ‹λ‹¤.** => μ™„λ²½ν•κ² κµ¬ν„λ λ•κΉμ§€ μ»΄νμΌλμ§€ μ•μ

β— κ°€μ¥ μΆ‹μ€ λ°©λ²•μ€ μ²μλ¶€ν„° μΈν„°νμ΄μ¤μ— μ§‘μ¤‘ν•΄ μ½”λ“λ¥Ό μ‘μ„±ν•λ” κ²ƒ.

2κ°μ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ ProductServiceλ¥Ό μ‘μ„±ν•΄μ•Ό ν•λ” κ²½μ°, κµ¬ν„μ— λ€ν• κ±±μ • μ—†μ΄ μ΄λ¬ν• λ©”μ„λ“λ΅ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•λ” κ²ƒμΌλ΅ μ‹μ‘ν•΄μ•Όν•¨.

```typescript
// 3_23
interface Product3_23{ // μΈν„°νμ΄μ¤λ¥Ό ν†µν• μ»¤μ¤ν…€ νƒ€μ… μ„ μ–Έ
  id: number;
  description: string;
}

interface IProductService3_23{ // APIλ¥Ό μΈν„°νμ΄μ¤λ΅ μ„ μ–Έ
  getProducts(): Product3_23[];
  getProductById(id: number):Product3_23;
}

class ProductService3_23 implements IProductService3_23{
  getProducts(): Product3_23[]{
    // μ‹¤μ  λ°μ΄ν„°μ—μ„ μ ν’μ„ λ°›μµλ‹λ‹¤.
    return [];
  }

  getProductById(id: number): Product3_23{
    // idλ΅ μ ν’μ„ μ΅°νν•¨.
    return {id: 123, description: 'Good product'};
  }
}
```

APIλ¥Ό μΈν„°νμ΄μ¤λ΅ μ„ μ–Έν•λ‹¤. = ν•„μ”ν• κΈ°λ¥μ— λ€ν•΄ μμ„Έν•κ² κµ¬ν„ν–λ‹¤. λ” μλ―Έ

MockProductServiceκ°™μ€ μƒ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ•Όν•λ‹¤λ©΄?

```typescript
class MockProductService implements IProductService{
  // λ©”μ†λ“ κµ¬ν„
}
```



μ»¤μ¤ν…€ νƒ€μ…μ„ μ΄κΈ°ν™” ν•  ν•„μ”κ°€ μ—†μ„ λ• class  λ€μ‹  interface ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ JSμ½”λ“μ–‘μ΄ μ¤„μ–΄λ“¬

**μΈν„°νμ΄μ¤ ν”„λ΅κ·Έλλ°μ μΆ‹μ€ μλ” ν©ν† λ¦¬ν•¨μλ¥Ό μ‚¬μ©ν•λ” κ²ƒ.**

β— **ν©ν† λ¦¬ ν•¨μλ€ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ κµ¬ν„ν•κ³  κ°μ²΄μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” ν•¨μ.**

```typescript
// 3_24
function getProductService3_24(isProduction: boolean): IProductService3_24{
  if( isProduction){
    return new ProductService3_10();
  }else{
    return new MockProductService3_24
  }
}

const productService3_24: IProductService3_24; // μΈν„°νμ΄μ¤ νƒ€μ…μ„ λ‚νƒ€λ‚΄λ” μƒμ

...

const isProd = true; // ν„μ¬ ν”„λ΅λ•μ… μƒνƒμ„μ„ λ‚νƒ€λƒ„
productService3_24 = getProductService3_24(isProd); // productService μΈμ¤ν„΄μ¤λ¥Ό κ°€μ Έμ΄

const products3_24[] = productService3_24.getProducts(); // productService λ‚΄ λ©”μ„λ“λ¥Ό νΈμ¶.
```

 isProdλ” trueλ΅ ν•λ“μ½”λ”©λμμ§€λ§, μ‹¤μ  μ•±μ—μ„λ” μ†μ„± νμΌ λλ” ν™κ²½ λ³€μλ¥Ό ν†µν•΄ μ΄ κ°’μ„ κ°€μ Έμ΄.

ProductService or Mock ProductServiceκ°€ λ°ν™λλ”λΌλ„ ν•¨μ μ‹κ·Έλ‹μ²μ—λ” IProductServiceλ¥Ό λ°ν™ν•λ‹¤κ³  μ‘μ„±λμλ‹¤. => λ‚μ¤‘μ— Another ProductService λΌλ” κ°μ²΄λ¥Ό λ°ν™ν•λ„λ΅ μμ •ν•΄μ•Όν•λ” κ²½μ°, **μƒ ν΄λμ¤ μ„ μ–Έμ— implements IProductServiceλ¥Ό μ…λ ¥ν•¨μΌλ΅μ¨ ν©ν† λ¦¬ ν•¨μλ¥Ό μ‚¬μ©ν•λ” μ½”λ“κ°€ μ¶”κ°€ λ³€κ²½ μ—†μ΄ μ»΄νμΌ**λ¨.

(μ•„μ§ μ λ¨λ¥΄κ² μ.)



## π μ”μ•½

* ν΄λμ¤ μƒμ†μ΄λ€ κΈ°μ΅΄μ— μ •μλμλ” ν΄λμ¤μ λ¨λ“  λ©¤λ²„λ¥Ό λ¬Όλ ¤λ°›μ•„ μƒλ΅μ΄ ν΄λμ¤λ¥Ό μƒμ„±ν•λ” κ²ƒ.
* μ„λΈ ν΄λμ¤μ—μ„ μνΌ ν΄λμ¤μ public λλ” protected ν”„λ΅νΌν‹° μ‚¬μ©O
* ν΄λμ¤ ν”„λ΅νΌν‹°κ°€ privateλ΅ μ„ μ–Έλ κ²½μ° ν΄λμ¤ λ‚΄λ¶€μ—μ„λ§ μ‚¬μ©κ°€λ¥
* private μƒμ„±μλ¥Ό μ‚¬μ©ν•΄ ν•λ²λ§ μΈμ¤ν„΄μ¤ν™”ν•  μ μλ” ν΄λμ¤ λ§λ“¤ μ μμ.
* **λ©”μ„λ“ μ¤λ²„λΌμ΄λ”©**μ€ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ—μ„ **μ„λΈ ν΄λμ¤κ°€ μνΌ ν΄λμ¤μ λ©”μ„λ“λ¥Ό νΉμ • ν•νƒλ΅ κµ¬ν„ν•μ—¬ μ¬μ •μ ν•λ” κ²ƒ**.
* ν΄λμ¤ μƒμ„±μλ„ μ¬μ •μ κ°€λ¥
* superν‚¤μ›λ“μ™€ super() λ©”μ„λ“λ΅ μ„λΈ ν΄λμ¤κ°€ μνΌν΄λμ¤μ ν΄λμ¤ λ©¤λ²„λ¥Ό νΈμ¶ν•  μ μμ.

